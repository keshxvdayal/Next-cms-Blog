import{enableVisualEditing as t}from"@sanity/visual-editing";import{useRouter as r}from"next/router.js";import{useRef as e,useState as n,useEffect as c}from"react";function a(a){const{zIndex:o}=a,u=r(),s=e(u),[p,i]=n();c((()=>{s.current=u}),[u]),c((()=>{const r=t({zIndex:o,history:{subscribe:t=>(i((()=>t)),()=>i(void 0)),update:t=>{switch(t.type){case"push":return s.current.push(t.url);case"pop":return s.current.back();case"replace":return s.current.replace(t.url);default:throw new Error("Unknown update type: ".concat(t.type))}}}});return()=>r()}),[o]);const{asPath:l,basePath:d,locale:h,isReady:f}=r();return c((()=>{if(p&&f){const t=d||h?"".concat(d).concat(h?"/".concat(h):"").concat("/"===l?"":l):l;p({type:"push",url:t})}}),[l,d,f,h,p]),null}export{a as default};//# sourceMappingURL=VisualEditingComponent-WnuDXXri.js.map
